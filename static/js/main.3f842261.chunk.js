(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(26)},19:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),s=a.n(c),i=(a(19),a(12)),o=a(3),l=a(4),u=a(6),h=a(5),m=a(7),v=a(1),p=a.n(v),d=a(2),f="Ztr9I1kQ2Yy2BIHlLviGqEGmXWlhChir";function y(e,t){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(p.a.mark(function e(t,a){var r,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://dataservice.accuweather.com/forecasts/v1/daily/".concat(a,"/").concat(t,"?apikey=").concat(f,"&metric=true"),{mode:"cors",cache:"force-cache"});case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function F(e){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(f,"&q=").concat(t),{mode:"cors",cache:"force-cache"});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={data:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(this.props.city.Key,"5day");case 2:t=e.sent,this.setState({data:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.city,t=this.state.data;return n.a.createElement("article",{className:"city-card col-sm-3"},n.a.createElement("button",{className:"remove",onClick:this.removeFavorite.bind(this)},"X"),n.a.createElement("h3",null,e.LocalizedName),!t&&"loading...",t&&n.a.createElement("h4",null," ","Today is"," ",t.DailyForecasts[0].Day.IconPhrase+" "+t.DailyForecasts[0].Temperature.Maximum.Value,"\u2103"),n.a.createElement("h5",null,"Here the fortcast for the next days:"),t&&n.a.createElement("div",{className:"box"}," ",t.DailyForecasts[1].Date.toString().slice(0,10)+" "+t.DailyForecasts[1].Day.IconPhrase+".  "+t.DailyForecasts[1].Temperature.Maximum.Value,"\u2103"),t&&n.a.createElement("div",{className:"box"}," ",t.DailyForecasts[2].Date.toString().slice(0,10)+" "+t.DailyForecasts[2].Day.IconPhrase+".  "+t.DailyForecasts[2].Temperature.Maximum.Value,"\u2103"),t&&n.a.createElement("div",{className:"box"}," ",t.DailyForecasts[3].Date.toString().slice(0,10)+" "+t.DailyForecasts[3].Day.IconPhrase+".  "+t.DailyForecasts[3].Temperature.Maximum.Value,"\u2103"),t&&n.a.createElement("div",{className:"box"}," ",t.DailyForecasts[4].Date.toString().slice(0,10)+" "+t.DailyForecasts[4].Day.IconPhrase+".  "+t.DailyForecasts[4].Temperature.Maximum.Value,"\u2103"),t&&n.a.createElement("p",{className:"text"},t.Headline.Text))}},{key:"removeFavorite",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.removeFromFavorites(this.props.city);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.a.Component),E=a(10),j=a(11),x=a.n(j),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={weatherr:[],fortcast:[],data:null,checked:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(this.props.room.Key,"1day");case 2:t=e.sent,this.setState({data:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data;return n.a.createElement("article",{className:"search-card col-sm-3"},"city name: ",n.a.createElement("h3",null," ",this.props.room.LocalizedName," "),"current weather:",!e&&"loading...",e&&n.a.createElement("h4",null,e.DailyForecasts[0].Temperature.Maximum.Value,"\u2103"),e&&n.a.createElement("h4",null," ",e.DailyForecasts[0].Day.IconPhrase),e&&n.a.createElement("p",null,e.Headline.Text),n.a.createElement(x.a,{className:"react-switch",onChange:this.handleChange.bind(this),checked:this.state.checked}),n.a.createElement("p",null," ",this.state.checked?n.a.createElement("h6",null,"Added to your favorite"):"Toggle to save to favorite "," "))}},{key:"addFavorite",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.room,this.props.addToFavorites(t);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeFavorite",value:function(){var e=Object(d.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.removeFromFavorites(this.props.room);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){!0===e?this.addFavorite():this.removeFavorite(),this.setState({checked:e})}}]),t}(r.Component),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={rooms:[],cityname:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"col-sm-12"},"Search city"," ",n.a.createElement("input",{onChange:this.handle.bind(this),placeholder:"tel aviv",name:"cityname"}),n.a.createElement("br",null),this.state.rooms.map(function(t){return n.a.createElement(O,{addToFavorites:e.props.addToFavorites.bind(e),removeFromFavorites:e.props.removeFromFavorites.bind(e),key:t.roomid,room:t})}))}},{key:"handle",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value)),this.sendw()}},{key:"sendw",value:function(){var e=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.cityname){e.next=5;break}return e.next=3,F(this.state.cityname);case 3:t=e.sent,this.setState({rooms:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(r.Component),g=(a(24),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={comp:"favorite",cities:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderSearch",value:function(){return n.a.createElement("div",{className:"col s3"},n.a.createElement(D,{addToFavorites:this.addToFavorites.bind(this),removeFromFavorites:this.removeFromFavorites.bind(this),savedCities:this.state.cities}))}},{key:"renderFavorites",value:function(){var e=this,t=this.state.cities;return n.a.createElement("div",{className:"col s3"},n.a.createElement("h2",null,"Saved Cities"),t.map(function(t){return n.a.createElement(w,{removeFromFavorites:e.removeFromFavorites.bind(e),key:t.Key,city:t})}))}},{key:"render",value:function(){var e=this.state.comp;return n.a.createElement("div",{className:"container app"},n.a.createElement("div",{className:"switch"},n.a.createElement("button",{className:"btn",onClick:this.switchComp.bind(this,"search")},"Search"),n.a.createElement("button",{className:"btn",onClick:this.switchComp.bind(this,"favorite")},"Favorites (",this.state.cities.length,")")),n.a.createElement("h1",{className:"logo"},"Weather App"),"search"===e&&this.renderSearch(),"favorite"===e&&this.renderFavorites())}},{key:"switchComp",value:function(e){this.setState({comp:e})}},{key:"addToFavorites",value:function(e){var t=[].concat(Object(i.a)(this.state.cities),[e]);this.setState({cities:t})}},{key:"removeFromFavorites",value:function(e){var t=this.state.cities.filter(function(t){return t!=e});this.setState({cities:t})}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.3f842261.chunk.js.map